{% extends "_layout" %}
{% set title = "Join QCA" %}
{% set bodyClass = 'l-1col' %}

{% block main %}
<div class="l-main">

  <header class="page-header">
    <div class="main">
      <h1>Join QCA <small>Create your account</small></h1>
    </div>
  </header>

<div class="page page-inset">

  <h2>Craft's memberhsip join form</h2>

<form method="post" accept-charset="UTF-8">
    {{ getCsrfInput() }}
    <input type="hidden" name="action" value="users/saveUser">
    <input type="hidden" name="redirect" value="member/activation-required">

    {% macro errorList(errors) %}
        {% if errors %}
            <ul class="errors">
                {% for error in errors %}
                    <li>{{ error }}</li>
                {% endfor %}
            </ul>
        {% endif %}
    {% endmacro %}

    {% from _self import errorList %}

    <h3><label for="username">Username</label></h3>
    <input id="username" type="text" name="username"
        {%- if account is defined %} value="{{ account.username }}"{% endif -%}>

    {% if account is defined %}
        {{ errorList(account.getErrors('username')) }}
    {% endif %}

    <label for="firstName">First name</label>
    <input id="firstName" type="text" name="firstName"
        {%- if account is defined %} value="{{ account.firstName }}"{% endif -%}>

    {% if account is defined %}
        {{ errorList(account.getErrors('firstName')) }}
    {% endif %}

    <label for="lastName">Last name</label>
    <input id="lastName" type="text" name="lastName"
        {%- if account is defined %} value="{{ account.lastName }}"{% endif -%}>

    {% if account is defined %}
        {{ errorList(account.getErrors('lastName')) }}
    {% endif %}

    <h3><label for="email">Email</label></h3>
    <input id="email" type="text" name="email"
        {%- if account is defined %} value="{{ account.email }}"{% endif %}>

    {% if account is defined %}
        {{ errorList(account.getErrors('email')) }}
    {% endif %}

    <h3><label for="password">Password</label></h3>
    <input id="password" type="password" name="password">

    {% if account is defined %}
        {{ errorList(account.getErrors('password')) }}
    {% endif %}

    <input type="submit" value="Register">
</form>

</div>

</div>
<!--/.l-main-->
{% endblock %}